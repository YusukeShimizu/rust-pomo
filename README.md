# フォーカスタイマーCLI

これはRustで実装したシンプルなポモドーロ風CLIツールです。以下のクレートを利用しています:
- Clap (derive機能) … コマンドライン引数のパース
- Indicatif … 進捗バーの表示
- ctrlc … SIGINT (Ctrl+C) シグナルのハンドリング
- macOSの `networksetup` と `osascript` … Wi-Fiのオン/オフ切り替えと通知表示

--------------------------------------------------------------------------------
## 使い方
--------------------------------------------------------------------------------

### 1. インストール:
------------------------------------------------------------
(このRustプロジェクトのディレクトリで)
$ cargo build --release
------------------------------------------------------------
ビルドが完了すると、バイナリが target/release/rust-pomo に生成されます。

### 2. CLIの実行:
------------------------------------------------------------
$ ./target/release/rust-pomo [オプション]
------------------------------------------------------------

### 3. 使用例:
------------------------------------------------------------
$ cargo run -- --focus 5 --break-time 3 --cycles 2
------------------------------------------------------------
- --focus: フォーカス時間（秒） (デフォルト 1500)
- --break-time: 休憩時間（秒） (デフォルト 300)
- --cycles: フォーカス＆休憩を繰り返す回数 (デフォルト 1)

### 4. 動作概要:
------------------------------------------------------------
1) フォーカス時間中は Wi-Fi をオフにする
2) 指定秒数のタイマー（進捗バー）をコンソール上に表示
3) フォーカスタイム終了後:
   - Wi-Fi をオンに戻す
   - 休憩タイマー（進捗バー）を表示
4) サイクル完了時に通知を送信 (macOSのみ)
5) SIGINTハンドラ:
   - Ctrl+Cが押された場合、Wi-Fiをオンに戻してアプリを安全に終了

--------------------------------------------------------------------------------
## 実装上のポイント
--------------------------------------------------------------------------------

1. macOS依存機能:
   ------------------------------------------------------------
   - Wi-Fi制御は `networksetup` コマンドを使用
   - 通知は AppleScript を `osascript` コマンドで実行
   ------------------------------------------------------------
   そのため、Windows/LinuxなどmacOS以外のシステムでは利用できません。

2. プロジェクトの構成:
   ------------------------------------------------------------
   - src/main.rs … メインロジック
   - Cargo.toml … 依存クレートやプロジェクト設定
   ------------------------------------------------------------

3. トラブルシューティング:
   ------------------------------------------------------------
   - 「引数が認識されない」や「引数が間違っている」というエラーが出る場合:
     -> 指定しているオプション名を確認してください。例: `--break-time` (正) vs `--break_time` (誤)
   - Wi-Fi切り替えや通知周りで問題がある場合:
     -> macOS上で実行しているか
     -> `networksetup` と `osascript` コマンドを実行する権限があるか
   ------------------------------------------------------------

--------------------------------------------------------------------------------
## ライセンス
--------------------------------------------------------------------------------
特にライセンスは設けていません。自由に改変・利用してください。
